/* ===== ResponsePage 專屬樣式 ===== */

/* 外層容器置中 */
.response-page {
  /*
    重要：這裡不再需要設定固定高度
    flex: 1; 會讓它自動填滿所有可用空間
  */
  flex: 1; 
  display: flex;
  flex-direction: column;
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
  box-sizing: border-box;
  position: relative; /* 為了讓內容滾動區可以相對於它定位 */
}

/* ** 聊天內容滾動區 **
  這是唯一需要滾動的元素。
*/
.response-content {
  flex: 1; /* 讓它填滿 .response-page 剩餘空間 */
  overflow-y: auto; /* 啟用垂直滾動 */
  scroll-behavior: smooth;
  padding: 20px 60px; /* 這裡的 padding 是內容的邊距，不需用來避開固定元素 */
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* 訊息區塊 */
/* 讓聊天訊息區域成為 Flexbox 容器 */
.response-content {
  display: flex;
  flex-direction: column; /* 將訊息垂直排列，確保每個訊息都在新的一行 */
  align-items: flex-start; /* 預設靠左對齊 */
  flex-grow: 1;
  padding: 10px;
  overflow-y: auto;
  gap: 10px; /* 設定訊息群組間的垂直間距 */
}

/* 訊息群組的通用樣式 */
.message-group {
  width: 100%; /* 確保每個訊息群組佔據整行寬度 */
  display: flex; /* 讓內部的泡泡和名稱可以對齊 */
  flex-direction: column;
}

/* 針對不同類型的訊息設定對齊方式 */
.message-group.sent {
  align-items: flex-end; /* 將使用者發送的訊息靠右對齊 */
}

.message-group.received {
  align-items: flex-start; /* 將接收到的訊息靠左對齊 */
}

/* 泡泡和名稱的樣式 */
.sender-name {
  margin-bottom: 5px;
  color: #888;
  font-size: 0.8em;
}

.message-bubble {
  padding: 10px 15px;
  border-radius: 20px;
  max-width: 70%;
  word-wrap: break-word;
}

.message-group.sent .message-bubble {
  background-color: #ffe6a7; /* 發送訊息的泡泡顏色 */
}

.message-group.received .message-bubble {
  background-color: #FFD991; /* 接收訊息的泡泡顏色 */
}


.received .message-bubble { background-color: #ffd991; }
.sent .message-bubble { background-color: #fff7b1; }

/* 固定底部輸入列 */
.input-bar-fixed {
	position: fixed;
	bottom: 20px;
	left: 50%;
	transform: translateX(-50%);
	width: 90%;
	max-width: 1100px;
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 12px 20px;
	background-color: #ffffff;
	border-radius: 30px;
	box-shadow: 0px 4px 8px rgba(0,0,0,0.25);
	z-index: 10;
}

.input-bar-fixed .input-placeholder {
	flex-grow: 1;
	height: 45px;
	border: none;
	border-radius: 30px;
	padding: 0 16px;
	font-size: 16px;
}

.input-bar-fixed .send-button {
	background-color: #ffec97;
	color: #545050;
	font-weight: 700;
	font-size: 16px;
	padding: 0 20px;
	height: 45px;
	border-radius: 30px;
	border: none;
	cursor: pointer;
}

/* 響應式 */
@media (max-width: 768px) {
	.response-content { padding: 20px 30px 20px; }
	.sender-name { font-size: 14px; }
	.message-bubble { max-width: 90%; font-size: 14px; }
	.input-bar-fixed .input-placeholder,
	.input-bar-fixed .send-button { font-size: 14px; height: 40px; }
}

@media (max-width: 480px) {
	.response-content { padding: 15px 20px 20px; }
	.input-bar-fixed { width: 95%; }
}

/* ===== Scroll/visibility tweaks ===== */
html, body {
	height: 100%;
	overflow: hidden; /* 隱藏全頁捲軸，只讓聊天區滾動 */
}

/* 只保留聊天內容滾動，但不顯示滾動條 */
.response-content {
	overflow-y: auto;
	scrollbar-width: none;            /* Firefox 隱藏捲軸 */
}
.response-content::-webkit-scrollbar { /* Chrome/Safari 隱藏捲軸 */
	width: 0;
	height: 0;
}

/* 輸入框多行時在內部滾動，不推擠版面 */
.input-bar-fixed .input-placeholder {
	overflow-y: auto;
	white-space: pre-wrap;
	word-break: break-word;
	resize: none; /* 若為 textarea 可防止用戶拖拉 */
	line-height: 1.4;
	max-height: 40vh; /* 限制最高，避免過高遮蔽內容 */
}

/* === Avoid overlap with fixed header === */
.page-bg .response-content {
	padding-top: calc(20px + var(--header-height, 80px));
}

/* === Larger chat bubble and text === */
.message-group { gap: 8px; }
.message-bubble {
	font-size: 18px;
	padding: 14px 20px;
	border-radius: 28px;
}
.sender-name { font-size: 18px; }

@media (max-width: 768px) {
	.message-bubble { font-size: 16px; padding: 12px 18px; border-radius: 24px; }
	.sender-name { font-size: 16px; }
}
@media (max-width: 480px) {
	.message-bubble { font-size: 15px; padding: 10px 16px; border-radius: 22px; }
	.sender-name { font-size: 15px; }
}

/* === Wider bubbles and tighter side padding for more characters per line === */
.page-bg .response-content {
	padding-left: 30px; /* 原為 60px → 30px，讓可用寬度更大 */
	padding-right: 30px;
}

/* 桌機與行動裝置統一允許泡泡使用整個可用寬度 */
.response-content .message-bubble { max-width: 100%; }

@media (max-width: 768px) {
	.response-content .message-bubble { max-width: 100%; }
}